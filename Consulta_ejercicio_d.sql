SELECT @employeeNumber:=employeeNumber AS employeeNumber, CONCAT(firstName, ' ', lastName) AS fullName, email, jobTitle, officeCode, (SELECT GROUP_CONCAT(employeeNumber SEPARATOR ',') AS subordinate FROM employees WHERE reportsTo IN (SELECT reportsTo FROM employees WHERE reportsTo = @employeeNumber)) AS subordinate FROM employees WHERE employeeNumber IN (SELECT reportsTo FROM employees WHERE reportsTo IS NOT NULL GROUP BY reportsTo)